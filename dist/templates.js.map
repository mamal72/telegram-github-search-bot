{"version":3,"sources":["templates.js"],"names":[],"mappings":"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","file":"templates.js","sourcesContent":["import { scopes } from './github';\nconst templates = Object.keys(scopes);\n\nexport function loadTemplate(tpl, data) {\n  if (!templates.includes(tpl)) {\n    throw new Error(`Template not found. Use one of these: ${Object.keys(templates).join(', ')}`);\n  }\n  if (data.total_count === 0) {\n    return `No ${tpl} found!\nYou can try with some other keywords.`;\n  }\n  let rendered;\n  let typeName;\n  let itemsTemplate;\n  let renderData;\n  switch (tpl) {\n    case 'users':\n      typeName = data.total_count !== 1 ? 'users' : 'user';\n      renderData = { ...data, typeName };\n      itemsTemplate = renderData.items.reduce((prev, curr, index) => {\n        return `${prev}\n${index + 1}.\nğŸ‘¤ [${curr.login}](${curr.html_url})\n[Repos](https://github.com/${curr.login}?tab=repositories) | ` +\n`[Activity](https://github.com/${curr.login}?tab=activity) | [Avatar](${curr.avatar_url})\n`;\n      }, '');\n      break;\n\n    case 'repos':\n      typeName = data.total_count !== 1 ? 'repos' : 'repo';\n      renderData = { ...data, typeName };\n      itemsTemplate = renderData.items.reduce((prev, curr, index) => {\n        return `${prev}\n${index + 1}.\nğŸ—„ [${curr.name}](${curr.html_url}) by [${curr.owner.login}](${curr.owner.html_url})` +\n` in #${curr.language}\nâ­ï¸ ${curr.stargazers_count} Stars\nğŸ“¥ [Clone](${curr.clone_url})\n`;\n      }, '');\n      break;\n\n    case 'issues':\n      typeName = data.total_count !== 1 ? 'issues' : 'issue';\n      renderData = { ...data, typeName };\n      itemsTemplate = renderData.items.reduce((prev, curr, index) => {\n        return `${prev}\n${index + 1}.\nğŸ—„ [${curr.title}](${curr.html_url}) by [${curr.user.login}](${curr.user.html_url})` +\n` ${curr.state === 'open' ? 'âšªï¸' : 'âš«ï¸'}\nğŸ‘¤ Assigned to ${curr.assignee ?\n'[' + curr.assignee.login + '](' + curr.assignee.html_url + ')' : 'nobody'}\nğŸ’¬ ${curr.comments} ${curr.comments === 1 ? 'Comments' : 'Comment'}\n`;\n      }, '');\n      break;\n\n    default:\n      break;\n  }\n\n  rendered = `I found *${renderData.total_count}* ${renderData.typeName}.\n${renderData.total_count > 10 ? `Here is top *10* ${renderData.typeName}:\\n` : ''}${itemsTemplate}`;\n\n  return rendered;\n}\n\n\nexport function loadInlineTemplate(tpl, data) {\n  if (!templates.includes(tpl)) {\n    throw new Error(`Template not found. Use one of these: ${Object.keys(templates).join(', ')}`);\n  }\n  if (data.total_count === 0) {\n    return [\n      {\n        id: '1',\n        type: 'article',\n        title: `No results!`,\n        parse_mode: 'Markdown',\n        description: `No ${tpl} found!`,\n        message_text: `No ${tpl} found!\n    You can try with some other keywords.`\n      }\n    ];\n  }\n\n  let typeName;\n  let renderData;\n  let rendered;\n\n  switch (tpl) {\n    case 'users':\n      typeName = data.total_count === 1 ? 'users' : 'user';\n      renderData = { ...data, typeName };\n      rendered = renderData.items.reduce((prev, curr, index) => {\n        return [\n          ...prev,\n          {\n            id: index.toString(),\n            type: 'article',\n            title: `${curr.login}`,\n            url: `${curr.html_url}`,\n            thumb_url: `${curr.avatar_url}`,\n            message_text: `ğŸ‘¤ [${curr.login}](${curr.html_url})\n[Repos](https://github.com/${curr.login}?tab=repositories) | ` +\n`[Activity](https://github.com/${curr.login}?tab=activity) | [Avatar](${curr.avatar_url})\n`,\n            parse_mode: 'Markdown'\n          }\n        ];\n      }, []);\n      return rendered;\n\n    case 'repos':\n      typeName = data.total_count !== 1 ? 'repos' : 'repo';\n      renderData = { ...data, typeName };\n      rendered = renderData.items.reduce((prev, curr, index) => {\n        return [\n          ...prev,\n          {\n            id: index.toString(),\n            type: 'article',\n            title: `${curr.name} by ${curr.owner.login}`,\n            description: `#${curr.language}`,\n            url: `${curr.html_url}`,\n            thumb_url: `${curr.owner.avatar_url}`,\n            message_text: `ğŸ—„ [${curr.name}](${curr.html_url}) by ` +\n`[${curr.owner.login}](${curr.owner.html_url})` +\n` in #${curr.language}\nâ­ï¸ ${curr.stargazers_count} Stars\nğŸ“¥ [Clone](${curr.clone_url})\n`,\n            parse_mode: 'Markdown'\n          }\n        ];\n      }, []);\n      return rendered;\n\n    case 'issues':\n      typeName = data.total_count !== 1 ? 'issues' : 'issue';\n      renderData = { ...data, typeName };\n      rendered = renderData.items.reduce((prev, curr, index) => {\n        return [\n          ...prev,\n          {\n            id: index.toString(),\n            type: 'article',\n            title: `${curr.state === 'open' ? 'âšªï¸' : 'âš«ï¸'} ${curr.title} by ${curr.user.login}`,\n            description: `ğŸ‘¤ Assigned to ${curr.assignee ? curr.assignee.login : 'nobody'}`,\n            url: `${curr.html_url}`,\n            thumb_url: `${curr.assignee ? curr.assignee.avatar_url : ''}`,\n            message_text: `ğŸ—„ [${curr.title}](${curr.html_url}) ` +\n`by [${curr.user.login}](${curr.user.html_url})` +\n` ${curr.state === 'open' ? 'âšªï¸' : 'âš«ï¸'}\nğŸ‘¤ Assigned to ${curr.assignee ?\n'[' + curr.assignee.login + '](' + curr.assignee.html_url + ')' : 'nobody'}\nğŸ’¬ ${curr.comments} ${curr.comments !== 1 ? 'Comments' : 'Comment'}\n`,\n            parse_mode: 'Markdown'\n          }\n        ];\n      }, []);\n      return rendered;\n\n    default:\n      break;\n  }\n}\n"],"sourceRoot":"/source/"}